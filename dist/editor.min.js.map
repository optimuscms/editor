{"version":3,"file":"editor.min.js","sources":["../src/config.js","../node_modules/vue-runtime-helpers/dist/normalize-component.mjs","../src/Editor.vue","../src/index.js"],"sourcesContent":["const config = () => {\n    return {\n        height: 500,\n        menubar: false,\n        branding: false,\n        convert_urls: false,\n        body_class: 'content p-4',\n        content_css: '/front/css/app.css',\n        plugins: 'code hr image link lists paste table media',\n\n        toolbar: `\n            code |\n            undo redo |\n            styleselect |\n            bold italic underline |\n            alignleft aligncenter alignright |\n            bullist numlist hr blockquote |\n            table link image media |\n            removeformat |\n        `,\n\n        formats: {\n            alignleft: {\n                classes: '',\n                selector: 'p,h1,h2,h3,h4,h5,h6,td,th,div,table,img',\n            },\n            aligncenter: {\n                classes: 'text-center',\n                selector: 'p,h1,h2,h3,h4,h5,h6,td,th,div,table,img',\n            },\n            alignright: {\n                classes: 'text-right',\n                selector: 'p,h1,h2,h3,h4,h5,h6,td,th,div,table,img',\n            },\n        },\n\n        style_formats: [\n            {\n                title: 'Headings',\n                items: [\n                    { title: 'Heading 1', block: 'h1' },\n                    { title: 'Heading 2', block: 'h2' },\n                    { title: 'Heading 3', block: 'h3' },\n                    { title: 'Heading 4', block: 'h4' },\n                    { title: 'Heading 5', block: 'h5' },\n                    { title: 'Heading 6', block: 'h6' },\n                    { title: 'Paragraph', block: 'p' },\n                ],\n            },\n            {\n                title: 'Heading Styles',\n                items: [\n                    {\n                        title: 'Title',\n                        classes: 'title',\n                        selector: 'h1,h2,h3,h4,h5,h6',\n                    },\n                    {\n                        title: 'Subtitle',\n                        classes: 'subtitle',\n                        selector: 'h1,h2,h3,h4,h5,h6',\n                    },\n                ],\n            },\n            {\n                title: 'Inline Styles',\n                items: [\n                    {\n                        title: 'Button',\n                        classes: 'button',\n                        selector: 'a',\n                    },\n                ],\n            },\n            {\n                title: 'Image Styles',\n                items: [\n                    {\n                        title: 'Image left',\n                        classes: 'image-left',\n                        selector: 'img',\n                    },\n                    {\n                        title: 'Image right',\n                        classes: 'image-right',\n                        selector: 'img',\n                    },\n                    {\n                        title: 'Image centered',\n                        classes: 'image-center',\n                        selector: 'img',\n                    },\n                ],\n            },\n        ],\n\n        table_responsive_width: true,\n        table_appearance_options: false,\n        table_default_styles: {\n            width: '100%',\n        },\n        table_default_attributes: {\n            border: 0,\n        },\n\n        media_url_resolver: (data, resolve, reject) => {\n            const matches = data.url.match(\n                /(?:https?:\\/\\/)?(?:www\\.)?(?:youtu.be\\/|youtube\\.com\\/(?:watch(?:\\/|\\/?\\?(?:\\S*&)?v=)|embed\\/))([\\w\\d-]+)/,\n            );\n\n            if (matches !== null && matches[1]) {\n                resolve({\n                    html: `<div class=\"video-embed\">\n                        <iframe\n                            src=\"https://www.youtube.com/embed/${matches[1]}?modestbranding=1&autohide=1&showinfo=0&rel=0\"\n                            frameborder=\"0\"\n                            allowfullscreen\n                        ></iframe>\n                    </div>`,\n                });\n            } else {\n                reject({ msg: 'Incorrect video url.' });\n            }\n        },\n    };\n};\n\nexport default config();\n","function normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\r\n    if (typeof shadowMode !== 'boolean') {\r\n        createInjectorSSR = createInjector;\r\n        createInjector = shadowMode;\r\n        shadowMode = false;\r\n    }\r\n    // Vue.extend constructor export interop.\r\n    const options = typeof script === 'function' ? script.options : script;\r\n    // render functions\r\n    if (template && template.render) {\r\n        options.render = template.render;\r\n        options.staticRenderFns = template.staticRenderFns;\r\n        options._compiled = true;\r\n        // functional template\r\n        if (isFunctionalTemplate) {\r\n            options.functional = true;\r\n        }\r\n    }\r\n    // scopedId\r\n    if (scopeId) {\r\n        options._scopeId = scopeId;\r\n    }\r\n    let hook;\r\n    if (moduleIdentifier) {\r\n        // server build\r\n        hook = function (context) {\r\n            // 2.3 injection\r\n            context =\r\n                context || // cached call\r\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\r\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\r\n            // 2.2 with runInNewContext: true\r\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n                context = __VUE_SSR_CONTEXT__;\r\n            }\r\n            // inject component styles\r\n            if (style) {\r\n                style.call(this, createInjectorSSR(context));\r\n            }\r\n            // register component module identifier for async chunk inference\r\n            if (context && context._registeredComponents) {\r\n                context._registeredComponents.add(moduleIdentifier);\r\n            }\r\n        };\r\n        // used by ssr in case component is cached and beforeCreate\r\n        // never gets called\r\n        options._ssrRegister = hook;\r\n    }\r\n    else if (style) {\r\n        hook = shadowMode\r\n            ? function (context) {\r\n                style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\r\n            }\r\n            : function (context) {\r\n                style.call(this, createInjector(context));\r\n            };\r\n    }\r\n    if (hook) {\r\n        if (options.functional) {\r\n            // register for functional component in vue file\r\n            const originalRender = options.render;\r\n            options.render = function renderWithStyleInjection(h, context) {\r\n                hook.call(context);\r\n                return originalRender(h, context);\r\n            };\r\n        }\r\n        else {\r\n            // inject component registration as beforeCreate hook\r\n            const existing = options.beforeCreate;\r\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\r\n        }\r\n    }\r\n    return script;\r\n}\n\nexport default normalizeComponent;\n//# sourceMappingURL=normalize-component.mjs.map\n","<template>\n    <base-editor\n        :id=\"id\"\n        v-model=\"content\"\n        :init=\"init\"\n        :api-key=\"apiKey\"\n    />\n</template>\n\n<script>\nimport Editor from '@tinymce/tinymce-vue';\n\nexport default {\n    components: { BaseEditor: Editor },\n\n    props: {\n        config: {\n            type: Object,\n            default: () => {},\n        },\n\n        id: {\n            type: String,\n            required: true,\n        },\n\n        value: {\n            type: String,\n            default: null,\n        },\n    },\n\n    data() {\n        return {\n            content: this.value,\n        };\n    },\n\n    watch: {\n        value(value) {\n            this.content = value;\n        },\n\n        content(value) {\n            this.$emit('input', value);\n        },\n    },\n};\n</script>\n","import config from './config';\nimport Editor from './Editor.vue';\n\nexport default function install(Vue, options = {}) {\n    let defaultOptions = {\n        config: options.config || config,\n        componentName: options.componentName || 'editor',\n    };\n\n    Vue.component(defaultOptions.componentName, Vue.extend({\n        extends: Editor,\n\n        data() {\n            return {\n                apiKey: options.apiKey,\n            };\n        },\n\n        computed: {\n            init() {\n                return Object.assign({},\n                    defaultOptions.config,\n                    this.config,\n                );\n            },\n        },\n\n        created() {\n            if (config.hasOwnProperty('onCreated')) {\n                config.onCreated();\n            }\n        },\n\n        mounted() {\n            if (config.hasOwnProperty('onMounted')) {\n                config.onMounted();\n            }\n        },\n\n        beforeDestroy() {\n            if (config.hasOwnProperty('onBeforeDestroy')) {\n                config.onBeforeDestroy();\n            }\n        },\n    }));\n}\n\nexport { config };\n"],"names":["height","menubar","branding","convert_urls","body_class","content_css","plugins","toolbar","formats","alignleft","classes","selector","aligncenter","alignright","style_formats","title","items","block","table_responsive_width","table_appearance_options","table_default_styles","width","table_default_attributes","border","media_url_resolver","data","resolve","reject","matches","url","match","html","msg","normalizeComponent","template","style","script","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","options","hook","render","staticRenderFns","_compiled","functional","_scopeId","context","this","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","originalRender","h","existing","beforeCreate","concat","Vue","defaultOptions","config","componentName","component","extend","extends","Editor","apiKey","computed","init","Object","assign","created","hasOwnProperty","onCreated","mounted","onMounted","beforeDestroy","onBeforeDestroy"],"mappings":"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"}